<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="shortcut icon" href="../../favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="../../assets/css/just-the-docs-default.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-2724382-16"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-2724382-16'); </script> <script type="text/javascript" src="../../assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="../../assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.6.1 --> <title>I2C Bootloader | Microchip MPLAB Harmony I2C Bootloader Applications help</title> <meta name="generator" content="Jekyll v3.8.7" /> <meta property="og:title" content="I2C Bootloader" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Harmony 3 I2C Bootloader Applications package" /> <meta property="og:description" content="Harmony 3 I2C Bootloader Applications package" /> <link rel="canonical" href="../../apps/i2c_bootloader/readme.html" /> <meta property="og:url" content="../../apps/i2c_bootloader/readme.html" /> <meta property="og:site_name" content="Microchip MPLAB Harmony I2C Bootloader Applications help" /> <script type="application/ld+json"> {"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"../../assets/images/vendor/microchip_mplab_harmony_logo_150_transparent.png"}},"@type":"WebPage","url":"../../apps/i2c_bootloader/readme.html","headline":"I2C Bootloader","description":"Harmony 3 I2C Bootloader Applications package","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="../../index.html" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="../../index.html" class="nav-list-link">I2C Bootloader Applications</a><ul class="nav-list "><li class="nav-list-item active"><a href="../../apps/i2c_bootloader/readme.html" class="nav-list-link active">I2C Bootloader</a></li><li class="nav-list-item "><a href="../../apps/i2c_fail_safe_bootloader/readme.html" class="nav-list-link">I2C Fail Safe Bootloader</a></li><li class="nav-list-item "><a href="../../apps/i2c_bootloader_wlcsp/readme.html" class="nav-list-link">I2C WLCSP Bootloader</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="../../apps/docs/readme_configure_host_application.html" class="nav-list-link">Host Application Configurations</a><ul class="nav-list "><li class="nav-list-item "><a href="../../apps/docs/readme_configure_host_app_nvm.html" class="nav-list-link">Configuring NVM Host applications</a></li><li class="nav-list-item "><a href="../../apps/docs/readme_configure_host_app_sdcard.html" class="nav-list-link">Configuring SDCARD Host applications</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="../../apps/docs/readme_configure_application.html" class="nav-list-link">Application Configurations</a><ul class="nav-list "><li class="nav-list-item "><a href="../../apps/docs/readme_configure_application_sam.html" class="nav-list-link">Application Configurations for CORTEX-M based MCUs</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="../../tools/readme.html" class="nav-list-link">I2C Bootloader Host Tools</a><ul class="nav-list "><li class="nav-list-item "><a href="../../tools/docs/readme_btl_bin_to_c_array.html" class="nav-list-link">Binary to C Array script help</a></li><li class="nav-list-item "><a href="../../tools/docs/readme_btl_app_merge_bin.html" class="nav-list-link">Bootloader and Application binary merge script</a></li></ul></li><li class="nav-list-item"><a href="../../release_notes.html" class="nav-list-link">Release notes</a></li><li class="nav-list-item"><a href="../../mplab_harmony_license.html" class="nav-list-link">License</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Microchip MPLAB Harmony I2C Bootloader Applications help" aria-label="Search Microchip MPLAB Harmony I2C Bootloader Applications help" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://support.microchip.com" class="site-button" > Obtain Support from Microchip </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="../../index.html">I2C Bootloader Applications</a></li> <li class="breadcrumb-nav-list-item"><span>I2C Bootloader</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <p><a href="https://www.microchip.com"><img src="https://www.microchip.com/ResourcePackages/Microchip/assets/dist/images/logo.png" alt="MCHP" /></a></p> <p>To clone or download this application from Github,go to the <a href="https://github.com/Microchip-MPLAB-Harmony/bootloader_apps_i2c">main page of this repository</a> and then click Clone button to clone this repo or download as zip file. This content can also be download using content manager by following <a href="https://github.com/Microchip-MPLAB-Harmony/contentmanager/wiki">these instructions</a></p> <h1 id="i2c-bootloader"> <a href="#i2c-bootloader" aria-labelledby="i2c-bootloader" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> I2C Bootloader </h1> <p>This example application shows how to use the Bootloader Library to bootload an application using I2C protocol.</p> <h3 id="bootloader-application"> <a href="#bootloader-application" aria-labelledby="bootloader-application" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Bootloader Application </h3> <ul> <li>This is a bootloader application which resides from starting location of the device flash memory</li> <li>It uses I2C peripheral library in non-interrupt mode</li> <li>Trigger Methods <ul> <li>It uses the On board Switch as bootloader trigger pin to force enter the bootloader at reset of device</li> <li>It checks for bootloader request pattern <strong>(0x5048434D)</strong> from the starting 16 Bytes of RAM to force enter bootloader at reset of device</li> </ul> </li> </ul> <h3 id="nvm-host-application"> <a href="#nvm-host-application" aria-labelledby="nvm-host-application" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> NVM Host Application </h3> <ul> <li>This is a embedded I2C host application which sends the application image stored in it’s internal flash (NVM) to the target board over the I2C bus</li> <li> <p>The user application binary must be converted to a header file containing the application image in HEX format in a C style array. A <a href="../../tools/docs/readme_btl_bin_to_c_array.html">btl_bin_to_c_array.py</a> utility is provided to do this conversion</p> <p><img src="../../apps/docs/images/i2c_bootloader_host_nvm.png" alt="i2c_bootloader_host_nvm" /></p> </li> <li>Add the generated application image header file to the NVM host application project. Rebuild and program the NVM host application. This results in the application image being copied in the host MCU’s flash (NVM)</li> </ul> <h3 id="sdcard-host-application"> <a href="#sdcard-host-application" aria-labelledby="sdcard-host-application" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> SDCARD Host Application </h3> <ul> <li>This is a embedded I2C host application which sends the application image stored in the SD card to the target board over the I2C bus</li> <li> <p>The user application binary is copied into an SD card and inserted in the SD card connected on the host board</p> <p><img src="../../apps/docs/images/i2c_bootloader_host_sdcard.png" alt="i2c_bootloader_host_sdcard" /></p> </li> </ul> <h3 id="test-application"> <a href="#test-application" aria-labelledby="test-application" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Test Application </h3> <ul> <li>This is a test application which resides from end of bootloader size in device flash memory</li> <li>It will be loaded into flash memory by bootloader application</li> <li>It blinks an LED and provides console output</li> <li>It uses the On board Switch to trigger the bootloader from firmware <strong>(May not be supported on all devices)</strong> <ul> <li>Once the switch is pressed it loads first 16 bytes of RAM with bootloader request pattern <strong>(0x5048434D)</strong> and resets the device</li> </ul> </li> </ul> <h2 id="development-kits"> <a href="#development-kits" aria-labelledby="development-kits" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Development Kits </h2> <p>The following table provides links to documentation on how to build and run I2C bootloader on different development kits</p> <div class="table-wrapper"><table> <thead> <tr> <th style="text-align: left">Development Kit</th> </tr> </thead> <tbody> <tr> <td style="text-align: left"><a href="../../apps/i2c_bootloader/docs/readme_pic32cm_mc00_curiosity_pro.html">PIC32CM MC00 Curiosity Pro Evaluation Kit</a></td> </tr> <tr> <td style="text-align: left"><a href="../../apps/i2c_bootloader/docs/readme_sam_c21n_xpro.html">SAM C21N Xplained Pro Evaluation Kit</a></td> </tr> <tr> <td style="text-align: left"><a href="../../apps/i2c_bootloader/docs/readme_sam_d11_xpro.html">SAM D11 Xplained Pro Evaluation Kit</a></td> </tr> <tr> <td style="text-align: left"><a href="../../apps/i2c_bootloader/docs/readme_sam_d20_xpro.html">SAM D20 Xplained Pro Evaluation Kit</a></td> </tr> <tr> <td style="text-align: left"><a href="../../apps/i2c_bootloader/docs/readme_sam_d21_xpro.html">SAM D21 Xplained Pro Evaluation Kit</a></td> </tr> <tr> <td style="text-align: left"><a href="../../apps/i2c_bootloader/docs/readme_sam_da1_xpro.html">SAM DA1 Xplained Pro Evaluation Kit</a></td> </tr> <tr> <td style="text-align: left"><a href="../../apps/i2c_bootloader/docs/readme_sam_e54_xpro.html">SAM E54 Xplained Pro Evaluation Kit</a></td> </tr> <tr> <td style="text-align: left"><a href="../../apps/i2c_bootloader/docs/readme_sam_ha1_xpro.html">SAM HA1G16A Xplained Pro</a></td> </tr> <tr> <td style="text-align: left"><a href="../../apps/i2c_bootloader/docs/readme_sam_l10_xpro.html">SAM L10 Xplained Pro Evaluation Kit</a></td> </tr> <tr> <td style="text-align: left"><a href="../../apps/i2c_bootloader/docs/readme_sam_l21_xpro.html">SAM L21 Xplained Pro Evaluation Kit</a></td> </tr> <tr> <td style="text-align: left"><a href="../../apps/i2c_bootloader/docs/readme_sam_l22_xpro.html">SAM L22 Xplained Pro Evaluation Kit</a></td> </tr> </tbody> </table></div> <hr> <footer> <p class="text-small text-grey-dk-000 mb-0"><img src='https://raw.githubusercontent.com/wiki/Microchip-MPLAB-Harmony/Microchip-MPLAB-Harmony.github.io/images/microchip_logo.png' /><br />Copyright &copy; 2020 Microchip Technology.</p> <!-- <p class="text-small text-grey-dk-000 mb-0"><img src='../../assets/images/vendor/microchip_logo.png' /><br /> Copyright &copy; 2021 Microchip Technology.</p> --> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
