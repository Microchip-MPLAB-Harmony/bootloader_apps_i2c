<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>I2C WLCSP Bootloader - Microchip MPLAB Harmony I2C Bootloader Applications help</title> <link rel="shortcut icon" href="../../favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="../../assets/css/just-the-docs.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-2724382-16"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', "UA-2724382-16"); </script> <script type="text/javascript" src="../../assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="../../assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.6.1 --> <title>I2C WLCSP Bootloader | Microchip MPLAB Harmony I2C Bootloader Applications help</title> <meta name="generator" content="Jekyll v3.8.7" /> <meta property="og:title" content="I2C WLCSP Bootloader" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Harmony 3 I2C Bootloader Applications package" /> <meta property="og:description" content="Harmony 3 I2C Bootloader Applications package" /> <link rel="canonical" href="../../apps/i2c_bootloader_wlcsp/readme.html" /> <meta property="og:url" content="../../apps/i2c_bootloader_wlcsp/readme.html" /> <meta property="og:site_name" content="Microchip MPLAB Harmony I2C Bootloader Applications help" /> <script type="application/ld+json"> {"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"../../assets/images/vendor/microchip_mplab_harmony_logo_150_transparent.png"}},"@type":"WebPage","url":"../../apps/i2c_bootloader_wlcsp/readme.html","headline":"I2C WLCSP Bootloader","description":"Harmony 3 I2C Bootloader Applications package","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="link" viewBox="0 0 16 16"> <title>Link</title> <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path> </symbol> </svg> <div class="page-wrap"> <div class="side-bar"> <div class="site-header"> <a href="../../index.html" class="site-title lh-tight"> <div class="site-logo"></div> </a> <button class="menu-button fs-3 js-main-nav-trigger" data-text-toggle="Hide" type="button">Menu</button> </div> <div class="navigation main-nav js-main-nav"> <nav role="navigation" aria-label="Main navigation"> <ul class="navigation-list"><li class="navigation-list-item active"><a href="../../index.html" class="navigation-list-link">I2C Bootloader Applications</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="../../apps/i2c_bootloader/readme.html" class="navigation-list-link">I2C Bootloader</a></li><li class="navigation-list-item "><a href="../../apps/i2c_fail_safe_bootloader/readme.html" class="navigation-list-link">I2C Fail Safe Bootloader</a></li><li class="navigation-list-item active"><a href="../../apps/i2c_bootloader_wlcsp/readme.html" class="navigation-list-link active">I2C WLCSP Bootloader</a></li></ul></li><li class="navigation-list-item"><a href="../../apps/docs/readme_configure_host_application.html" class="navigation-list-link">Host Application Configurations</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="../../apps/docs/readme_configure_host_app_sdcard.html" class="navigation-list-link">Configuring SDCARD Host applications</a></li><li class="navigation-list-item "><a href="../../apps/docs/readme_configure_host_app_nvm.html" class="navigation-list-link">Configuring NVM Host applications</a></li></ul></li><li class="navigation-list-item"><a href="../../apps/docs/readme_configure_application.html" class="navigation-list-link">Application Configurations</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="../../apps/docs/readme_configure_application_sam.html" class="navigation-list-link">SAM Application Configurations</a></li></ul></li><li class="navigation-list-item"><a href="../../tools/readme.html" class="navigation-list-link">I2C Bootloader Host Tools</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="../../tools/docs/readme_btl_bin_to_c_array.html" class="navigation-list-link">Bootloader Binary to C Array script</a></li><li class="navigation-list-item "><a href="../../tools/docs/readme_btl_app_merge_bin.html" class="navigation-list-link">Bootloader and Application binary merge script</a></li></ul></li><li class="navigation-list-item"><a href="../../release_notes.html" class="navigation-list-link">Release notes</a></li><li class="navigation-list-item"><a href="../../mplab_harmony_license.html" class="navigation-list-link">License</a></li></ul> </nav> </div> <footer class="site-footer"> <p class="text-small text-grey-dk-000 mb-4">This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</p> </footer> </div> <div class="main-content-wrap js-main-content" tabindex="0"> <div class="main-content"> <div class="page-header js-page-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" class="js-search-input search-input" tabindex="0" placeholder="Search Microchip MPLAB Harmony I2C Bootloader Applications help" aria-label="Search Microchip MPLAB Harmony I2C Bootloader Applications help" autocomplete="off"> <svg width="14" height="14" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" class="search-icon"><title>Search</title><g fill-rule="nonzero"><path d="M17.332 20.735c-5.537 0-10-4.6-10-10.247 0-5.646 4.463-10.247 10-10.247 5.536 0 10 4.601 10 10.247s-4.464 10.247-10 10.247zm0-4c3.3 0 6-2.783 6-6.247 0-3.463-2.7-6.247-6-6.247s-6 2.784-6 6.247c0 3.464 2.7 6.247 6 6.247z"/><path d="M11.672 13.791L.192 25.271 3.02 28.1 14.5 16.62z"/></g></svg> </div> <div class="js-search-results search-results-wrap"></div> </div> <ul class="list-style-none text-small aux-nav"> <li class="d-inline-block my-0"><a href="https://support.microchip.com">Obtain Support from Microchip</a></li> </ul> </div> <div class="page"> <nav class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="../../index.html">I2C Bootloader Applications</a></li> <li class="breadcrumb-nav-list-item"><span>I2C WLCSP Bootloader</span></li> </ol> </nav> <div id="main-content" class="page-content" role="main"> <p><a href="https://www.microchip.com"><img src="https://www.microchip.com/ResourcePackages/Microchip/assets/dist/images/logo.png" alt="MCHP" /></a></p> <p>To clone or download this application from Github,go to the <a href="https://github.com/Microchip-MPLAB-Harmony/bootloader_apps_i2c">main page of this repository</a> and then click Clone button to clone this repo or download as zip file. This content can also be download using content manager by following <a href="https://github.com/Microchip-MPLAB-Harmony/contentmanager/wiki">these instructions</a></p> <h1 id="i2c-wlcsp-bootloader"> <a href="#i2c-wlcsp-bootloader" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> I2C WLCSP Bootloader </h1> <p>This example application shows how to use the Bootloader Library to bootload an application using I2C protocol.</p> <h3 id="bootloader-application"> <a href="#bootloader-application" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Bootloader Application </h3> <ul> <li>This is a bootloader application which resides from starting location of the device flash memory</li> <li>Bootloader runs from RAM to allow self-upgradation of the bootloader code itself.</li> <li>Trigger Methods: <ul> <li>By driving I2C SDA and SCL low on external reset. This assumes that the bootloader host application has control over the reset pin to ensure that execution of the bootloader starts after the values of SCL and SDA pins is settled to a desired level.</li> <li>Pattern - 0x5048434D in each of the first 4 words (total 16 bytes), starting from RAM address - 0x20000000</li> <li>No valid application. Application is considered invalid if the first 4 bytes of the application (which contains the starting address for the main stack pointer) are 0xFFFFFFFF</li> </ul> </li> <li>Port pins used for I2C communication: <ul> <li>PA08 (SERCOM2_PAD0)</li> <li>PA09 (SERCOM2_PAD1)</li> </ul> </li> <li>Bootloader programs fuse settings to default values. Any custom fuse bit settings must be programmed by the application</li> <li>Bootloader uses I2C peripheral library in non-interrupt mode and implements two tasks: <ol> <li>To process the I2C events</li> <li>To perform flash read/write/verify operations</li> </ol> </li> <li>It is implemented in non-blocking mode thereby allowing other tasks to co-exist (if any)</li> </ul> <h3 id="sdcard-host-application"> <a href="#sdcard-host-application" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> SDCARD Host Application </h3> <ul> <li>This is a embedded I2C host application which sends the application image stored in the SD card to the target board over the I2C bus</li> <li> <p>The user application binary is copied into an SD card and inserted in the SD card slot on the host board</p> <p><img src="../../apps/docs/images/i2c_bootloader_host_sdcard.png" alt="i2c_bootloader_host_sdcard" /></p> </li> </ul> <h2 id="targets"> <a href="#targets" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Targets </h2> <p>The following table provides links to documentation on how to build and run I2C WLCSP bootloader on SAMD20E15BU and SAMD20E16BU targets</p> <div class="table-wrapper"><table> <thead> <tr> <th style="text-align: left">Development Kit</th> </tr> </thead> <tbody> <tr> <td style="text-align: left"><a href="../../apps/i2c_bootloader_wlcsp/docs/readme_sam_d20_e15.html">SAMD20E15BU</a></td> </tr> <tr> <td style="text-align: left"><a href="../../apps/i2c_bootloader_wlcsp/docs/readme_sam_d20_e16.html">SAMD20E16BU</a></td> </tr> </tbody> </table></div> <hr> <footer role="contentinfo"> <p class="text-small text-grey-dk-000 mb-0"><img src='../../assets/images/vendor/microchip_logo.png' /><br /> Copyright &copy; 2020 Microchip Technology.</p> </footer> </div> </div> </div> </div> </body> </html>
